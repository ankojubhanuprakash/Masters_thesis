<!DOCTYPE html>
<html lang="en">
<head> 
  <title>IQ test</title>
  <meta charset="utf-8">
  <meta name="description" content="Free IQ test">
  <meta name="keywords" content="IQ test, India, intelligence test, IIT Kanpur">
  <meta name="author" content="IIT Kanpur">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/css/bootstrap.min.css">
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
  <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/js/bootstrap.min.js"></script>
  <script src="https://unpkg.com/jspsych@7.0.0"></script>
<script src="https://unpkg.com/@jspsych/plugin-html-keyboard-response@1.0.0"></script>
<script src="https://unpkg.com/@jspsych/plugin-survey-html-form@1.0.0"></script>
<link href="https://unpkg.com/jspsych@7.0.0/css/jspsych.css" rel="stylesheet" type="text/css" />
<script src="https://unpkg.com/@jspsych/plugin-html-button-response@1.0.0"></script>
</head>
<script>
    window.addEventListener('beforeunload', function (e) {
      console.log(popit)
      if (popit != 'false'){
        popit = false
      e.preventDefault();
      e.returnValue = '';
      console.log(e)
      }
  });
  </script>
<style>
    /* Remove the navbar's default margin-bottom and rounded borders */ 
    .navbar {
      margin-bottom: 0;
      border-radius: 0;
      width: 100%;
    }
    .progress{
      width: 50vw;
    }
    /* On small screens, set height to 'auto' for sidenav and grid */

#hide_hover {
    display: none;
  }
      
#data_submit:hover + #hide_hover {
    display: block;
    color: red;
  }
  .left-align #instructions {text-align: left;}
    </style>
<body>
     
<nav class="navbar navbar-inverse navbar-fixed-bottom">
  <div class="container-fluid">
    <div class="navbar-header">
      <a class="navbar-brand" href="https://www.cgs.iitk.ac.in/">Cognitive Science Department, IIT Kanpur</a>
    </div>
    
  </div>
</nav>
<nav class="navbar navbar-inverse navbar-fixed">
    <div class="container-fluid">
      <div class="navbar-header">
        <a class="navbar-brand" href="#">IQ test</a>
      </div>          
    </div>
</nav>
  
<div class="container text-center">    
    <div class="row content id="insidebts">      
      <div class="col-xs-8 text-left" id='bio'>          
        <h1>Welcome</h1>
              <hr>
        <p>Please enter your details, to proceed for the IQ test. </p><br>
        
          <div class="form-group">
               
              <label for="name">
                  Name
              </label>
              <input type="text" class="form-control" id="name"  onchange="enable_button()"/>
          </div>
          <div class="form-group">
               
              <label for="email">
                  Email address
              </label>
              <input type="email" class="form-control" id="email" onchange="enable_button()" />
          </div>
          <div class="form-group">
             
            <label for="email2">
                Confirm Email address
            </label>
            <input type="email" class="form-control" id="email2" onchange="enable_button()" />
        </div>
  
          <div class="checkbox">
               
            <label>
              <input type="checkbox" id = 'consent' onchange="enable_button()"><p> I am willing to take IQ test.</p>
            </label>
           
        </div>
          
          
          
          <button type="submit" id='data_submit' class="btn btn-primary" onclick="validateForm()" disabled>
              Continue
          </button>
          <div id="hide_hover">please enter all fields.</div>
      
        
      </div>
     
      
    </div>
  
  </div>
  <br><br><br><br>
</body>

<script src='gamble_functions.js'></script>
<script src='data.js'></script>
<script>

  var format = new Intl.NumberFormat('en-IN', {
                style: 'currency',
                currency: 'INR',
                minimumFractionDigits: 0,
            });
  
    popit='false'//variable used for alert while closing window
    prereq_html ='<nav class="navbar navbar-inverse"><div class="container-fluid"><div class="navbar-header"><a class="navbar-brand" href="#">IQ test</a></div>'+
      '<div class="collapse navbar-collapse" id="myNavbar"></div></div></nav>'
     + '<div class="container-fluid text-center"> <div class="row content" id="insidebts"> </div></div>'+
     '<br<br><br><br><br><br><br>'+
                    '<footer class="container-fluid"><p style="font-size: 14px;">Cognitive Science Dept, IIT Kanpur</p></footer>'

    //prereq_html for Raven matrices
    prereq_html_iq = "<center>"+ "<div id='tracker'></div>"+
                    "<div class='progress'> <div class='progress-bar' id ='pgrs' role='progressbar' aria-valuenow='70' aria-valuemin='0' aria-valuemax='100' style='width:70%'></div></div>"+ 
                    "<div id='question'></div></center><div id='tracker'></div>" + 
                    "<div id='option'  style='display: flex; column-gap: 20px; justify-content: space-between;''></div>"
    // prereqhtml for header 
    
    // user data
    master_json={}
    //risk aversion _data               
    questionnaire_identifier = [0,1,2,3,4]
    local_q_identifer=questionnaire_identifier.sort(() => Math.random() - 0.5);
    local_q_count=0//used to track which questionnaire is showed
    var random_quadrant = Math.floor(Math.random()*4)+1
    master_json['Quadrant'] = random_quadrant;
    master_json['questionnaire'] = {0:[],1:[],2:[],3:[],4:[]}
    Questionnaire_quadrant_set = get_risk_aversion_data()

    if (random_quadrant<=2){
        answer_choice=['I will buy the lottery ticket.','I will not buy the lottery ticket.']

    }else{
        answer_choice=['I will not pay the premium.','I will pay the premium.']

    }
    
           
    
    
</script>
</html>
